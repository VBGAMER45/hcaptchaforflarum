module.exports=function(t){var e={};function r(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e){t.exports=flarum.core.compat.extend},,function(t,e){t.exports=flarum.core.compat["components/SignUpModal"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionComposer"]},function(t,e){t.exports=flarum.core.compat["components/ReplyComposer"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e,r){"use strict";r.r(e);var o=r(3),a=r.n(o),n=r(4),c=r.n(n),p=r(0),i=r(2),u=r.n(i);var s=r(5),f=function(t){var e,r;function o(){return t.apply(this,arguments)||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.view=function(){return m("div",{className:"Form-group"},m("div",{className:"g-hCaptcha"}))},a.oncreate=function(e){if(t.prototype.oncreate.call(this,e),this.attrs.state.render(e.dom.querySelector(".g-hCaptcha")),"invisible"===app.data["vbgamer45-hCaptcha.type"]){var r=e.dom.querySelector("iframe");r&&(r.tabIndex=-1)}},o}(r.n(s).a),d=function(){function t(t,e){void 0===e&&(e=null),this.callback=t,this.errorCallback=e||function(t){app.alerts.show(t)},this.widgetId=null}var e=t.prototype;return e.render=function(t){var e=this;this.widgetId=ghCaptcha.render(t,{sitekey:app.data["vbgamer45-hCaptcha.credentials.site"],theme:app.forum.attribute("darkMode")?"dark":"light",type:app.data["vbgamer45-hCaptcha.type"],size:"invisible"===app.data["vbgamer45-hCaptcha.type"]?"invisible":"normal",callback:this.callback,"error-callback":function(){var t={type:"error",content:app.translator.trans("vbgamer45-hCaptcha.forum.error")};e.errorCallback(t)}})},e.getResponse=function(){return ghCaptcha.getResponse(this.widgetId)},e.execute=function(){return ghCaptcha.execute(this.widgetId)},e.reset=function(){return ghCaptcha.reset(this.widgetId)},t}(),h=function(t){var e="invisible"===app.data["vbgamer45-hCaptcha.type"];Object(p.extend)(t.prototype,"oninit",(function(){var t=this;app.forum.attribute("postWithoutCaptcha")||(this.hCaptcha=new d((function(){e&&t.onsubmit("hCaptchaSecondStep")})))})),Object(p.extend)(t.prototype,"data",(function(t){app.forum.attribute("postWithoutCaptcha")||(t["g-hCaptcha-response"]=this.hCaptcha.getResponse())})),Object(p.extend)(t.prototype,"headerItems",(function(t){app.forum.attribute("postWithoutCaptcha")||t.add("hCaptcha",f.component({state:this.hCaptcha}),-5)})),Object(p.extend)(t.prototype,"loaded",(function(){app.forum.attribute("postWithoutCaptcha")||this.hCaptcha.reset()})),Object(p.override)(t.prototype,"onsubmit",(function(t,r){return!app.forum.attribute("postWithoutCaptcha")&&e&&"hCaptchaSecondStep"!==r?(this.loading=!0,void this.hCaptcha.execute()):t()}))};app.initializers.add("fof/hCaptcha",(function(){var t;t="invisible"===app.data["vbgamer45-hCaptcha.type"],Object(p.extend)(u.a.prototype,"oninit",(function(){var e=this;this.hCaptcha=new d((function(){if(t){var r=new Event("submit");r.ishCaptchaSecondStep=!0,e.onsubmit(r)}}),(function(t){e.loaded(),e.alertAttrs=t}))})),Object(p.extend)(u.a.prototype,"submitData",(function(t){t["g-hCaptcha-response"]=this.hCaptcha.getResponse()})),Object(p.extend)(u.a.prototype,"fields",(function(t){t.add("hCaptcha",f.component({state:this.hCaptcha}),-5)})),Object(p.extend)(u.a.prototype,"onerror",(function(){this.hCaptcha.reset()})),Object(p.override)(u.a.prototype,"onsubmit",(function(e,r){return t&&!r.ishCaptchaSecondStep?(r.preventDefault(),this.loading=!0,void this.hCaptcha.execute()):e(r)})),h(a.a),h(c.a)}))}]);
//# sourceMappingURL=forum.js.map